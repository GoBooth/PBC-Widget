<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Choose Your Backdrop</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>body { margin: 0; padding: 0; }</style>
</head>
<body class="bg-gray-100 font-sans">

  <div class="max-w-7xl mx-auto p-6">
    <h1 class="text-4xl font-bold mb-6 text-center">Choose Your Backdrop</h1>
    <div id="gallery" class="grid gap-6 grid-cols-2 sm:grid-cols-3 md:grid-cols-4">
      <% backdrops.forEach(b => { %>
        <div class="relative overflow-hidden rounded-xl shadow-lg transform transition hover:scale-105 bg-white cursor-pointer" data-url="<%= b.url %>" data-name="<%= b.name %>">
          <img src="<%= b.url %>" alt="<%= b.name %>" class="w-full h-48 object-cover" />
          <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black via-transparent p-2 opacity-0 hover:opacity-100 transition-opacity">
            <p class="text-white text-sm font-medium"><%= b.name %></p>
          </div>
        </div>
      <% }); %>
    </div>
  </div>

  <!-- Lightbox Modal -->
  <div id="lightbox" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="relative bg-white rounded-lg overflow-hidden max-w-lg w-full">
      <button id="close" class="absolute top-2 right-2 text-gray-600 hover:text-gray-900 text-2xl">&times;</button>
      <img id="lightbox-img" src="" class="w-full h-auto" alt="Backdrop" />
      <p id="lightbox-title" class="p-4 text-center font-semibold text-xl"></p>
    </div>
  </div>

  <script>
    // Lightbox open
    document.querySelectorAll('[data-url]').forEach(card => {
      card.addEventListener('click', () => {
        const url = card.getAttribute('data-url');
        const name = card.getAttribute('data-name');
        document.getElementById('lightbox-img').src = url;
        document.getElementById('lightbox-title').textContent = name;
        document.getElementById('lightbox').classList.remove('opacity-0', 'pointer-events-none');
      });
    });
    // Lightbox close
    document.getElementById('close').onclick = () => {
      document.getElementById('lightbox').classList.add('opacity-0', 'pointer-events-none');
    };
  </script>
</body>
</html>